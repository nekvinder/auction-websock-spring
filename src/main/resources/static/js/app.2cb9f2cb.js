(function(e){function t(t){for(var o,r,l=t[0],a=t[1],i=t[2],s=0,f=[];s<l.length;s++)r=l[s],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&f.push(c[r][0]),c[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);b&&b(t);while(f.length)f.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],o=!0,r=1;r<n.length;r++){var a=n[r];0!==c[a]&&(o=!1)}o&&(u.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},c={app:0},u=[];function r(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6cfb1c21"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=c[e]=[t,o]}));t.push(n[2]=o);var u,a=document.createElement("script");a.charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.src=r(e);var i=new Error;u=function(t){a.onerror=a.onload=null,clearTimeout(s);var n=c[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),u=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+o+": "+u+")",i.name="ChunkLoadError",i.type=o,i.request=u,n[1](i)}c[e]=void 0}};var s=setTimeout((function(){u({type:"timeout",target:a})}),12e4);a.onerror=a.onload=u,document.head.appendChild(a)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var b=i;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"1b34":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"auction",(function(){return d})),n.d(o,"connect",(function(){return v})),n.d(o,"disconnect",(function(){return j})),n.d(o,"sendBid",(function(){return p})),n.d(o,"uuidv4",(function(){return h})),n.d(o,"ActionType",(function(){return l})),n.d(o,"executeMessage",(function(){return x}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function u(e,t){var n=Object(c["s"])("router-view");return Object(c["o"])(),Object(c["d"])(n)}n("d4d9");const r={};r.render=u;var l,a=r,i=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),s=n("a1e9"),b=n("5c40"),f=(n("ac1f"),n("5319"),n("25f0"),n("1276"),Object(s["j"])()),d=Object(s["j"])(),O=window.location.host,v=function(){console.log("connecting..."),f.value=new WebSocket("ws://".concat(O,"/auction")),f.value.onopen=function(e){console.log("connected",e)},f.value.onmessage=function(e){console.log("RAW MESSAGE:",e.data),x(e.data)},f.value.onerror=function(e){console.log("error",e)},f.value.onclose=function(e){console.log("close",e)}},j=function(){f.value&&f.value.close(),console.log("Websocket is in disconnected state")},p=function(e){var t,n="[".concat(h(),",PUT_BID,")+JSON.stringify({auctionId:null===(t=d.value)||void 0===t?void 0:t.auctionId,newBid:e})+"]";console.log("SENDING ",n),f.value&&f.value.send(n)},h=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))};(function(e){e["JOIN_AUCTION"]="JOIN_AUCTION",e["UPDATE_AUCTION"]="UPDATE_AUCTION",e["PUT_BID"]="PUT_BID"})(l||(l={}));var x=function(e){var t=e.replace("[","").replace("]",""),n=t.split(","),o=n[0],c=n[1],u=t.substring(o.length+c.length+2);switch(c){case l.JOIN_AUCTION:console.log(c,u),d.value=JSON.parse(u);break;case l.UPDATE_AUCTION:console.log(c,u),d.value=JSON.parse(u);break}},g=Object(c["f"])("div",null,null,-1),m={key:0},y={class:"home"},w={key:0},T=Object(c["f"])("th",null,"Auction Name:",-1),A=Object(c["f"])("th",null,"Auction Expires In:",-1),P=Object(c["f"])("th",null,"Connected Users:",-1),N=Object(c["f"])("th",null,"Current Bid Amount:",-1),I=Object(c["f"])("th",null,"Put a new Bid:",-1),U=Object(c["g"])({expose:[],setup:function(e){var t=Object(s["j"])(0),n=function(){var e;(null===(e=d.value)||void 0===e?void 0:e.currentBid)<t.value?p(t.value):alert("Please enter a higher bid than current bid value")};return Object(b["t"])((function(){v()})),function(e,u){return Object(c["o"])(),Object(c["d"])(c["a"],null,[g,Object(c["f"])("h1",null,"Auction : "+Object(c["u"])(Object(c["v"])(o).auction.value?Object(c["v"])(o).auction.value.isExpired?"Over":"Joined":"Not Connected"),1),Object(c["v"])(o).auction.value&&Object(c["v"])(o).auction.value.isExpired?(Object(c["o"])(),Object(c["d"])("h1",m,"Winning bid : "+Object(c["u"])(Object(c["v"])(o).auction.value.currentBid),1)):Object(c["e"])("",!0),Object(c["f"])("h3",null,[Object(c["f"])("div",y,[Object(c["v"])(o).auction.value&&!Object(c["v"])(o).auction.value.isExpired?(Object(c["o"])(),Object(c["d"])("table",w,[Object(c["f"])("tr",null,[T,Object(c["f"])("td",null,Object(c["u"])(Object(c["v"])(o).auction.value.auctionName),1)]),Object(c["f"])("tr",null,[A,Object(c["f"])("td",null,Object(c["u"])(Object(c["v"])(o).auction.value.remainingTime)+" seconds",1)]),Object(c["f"])("tr",null,[P,Object(c["f"])("td",null,Object(c["u"])(Object(c["v"])(o).auction.value.connectedUsers),1)]),Object(c["f"])("tr",null,[N,Object(c["f"])("td",null,Object(c["u"])(Object(c["v"])(o).auction.value.currentBid),1)]),Object(c["f"])("tr",null,[I,Object(c["f"])("td",null,[Object(c["y"])(Object(c["f"])("input",{type:"number",step:"10","onUpdate:modelValue":u[1]||(u[1]=function(e){return t.value=e})},null,512),[[c["w"],t.value]])])]),Object(c["f"])("tr",null,[Object(c["f"])("td",{style:{"text-align":"right"},colspan:"2"},[Object(c["f"])("button",{onClick:n},"PUT")])])])):Object(c["e"])("",!0)])])],64)}}}),_=U,E=[{path:"/",name:"Home",component:_},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],S=Object(i["a"])({history:Object(i["b"])("/"),routes:E}),k=S;Object(c["c"])(a).use(k).mount("#app")},d4d9:function(e,t,n){"use strict";n("1b34")}});
//# sourceMappingURL=app.2cb9f2cb.js.map